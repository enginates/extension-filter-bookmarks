(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{12:function(e,t,n){n(2),e.exports=n(18)},18:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(3),i=n(4),o=n(5),l=n(7),r=n(6),c=n(8),u={name:"default",ext:".png",data:"iVBORw0KGgoAAAANSUhEUgAAAD4AAAAaCAYAAADv/O9kAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH5AMbFhQgjNJxJQAAAPFJREFUWIXtlC8LwlAUR3/+QWEDwTAwiYgIWzKsrwkW04LNYDLbBe1+BIPtZYtV+4JpYYgMk7Bg2kBBNK1NTd47eO98gXMP791bWIT7l59EkAlLM1CULRoA/CRCkXsILlS4bKhw2VDh/8fGqutgQCf8Cu2LlwyMTReibZNqs+D56tUWhOli3eyw6AHmHdf1HoQ5xLxO787BcavAargQZh9TQmsOwlNqcAh3v0xm+sgD/nWL5Y3Wyhoex0dMLicWN0/4PcTo7LGoU2jDnxE2wQE7Umk2hOEeZgGd7Rc5uuq0qHDZUOGyIW+4pRncM5BjaQbeyHkrIkfBCTEAAAAASUVORK5CYII="};var d=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(s)))).state={bg:"#ffffff",button:"#2DCC97",clear:!1,configured:!1,filters:[],image:{name:"",ext:"",data:""},label:"Revert Filters",style:"text",text:"#ffffff"},n.applyFilters=function(){var e=window.tableau.extensions.dashboardContent.dashboard,t=window.tableau.extensions.settings.getAll();if("true"===t.clear)n.clearFilters();else{var a=JSON.parse(t.filters),s=!0,i=!1,o=void 0;try{for(var l,r=function(){var t=l.value;if(!1===t.skip)switch(t.filterType){case"range":var n={};n="all-values"===t.nullOption?{nullOption:t.nullOption}:"date"===t.dataType?{min:new Date(t.min),max:new Date(t.max)}:{min:t.min,max:t.max},e.worksheets.find(function(e){return e.name===t.worksheetName}).applyRangeFilterAsync(t.fieldName,n).catch(console.log);break;case"categorical":e.worksheets.find(function(e){return e.name===t.worksheetName}).applyFilterAsync(t.fieldName,t.appliedValues,t.updateType,{isExcludeMode:t.isExcludeMode}).catch(console.log);break;default:return"continue"}},c=a[Symbol.iterator]();!(s=(l=c.next()).done);s=!0)r()}catch(u){i=!0,o=u}finally{try{s||null==c.return||c.return()}finally{if(i)throw o}}}},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"clearFilters",value:function(){window.tableau.extensions.dashboardContent.dashboard.worksheets.forEach(function(e){e.getFiltersAsync().then(function(t){var n=[];t.forEach(function(t){n.push(e.clearFilterAsync(t.fieldName))})})})}},{key:"configure",value:function(){var e="".concat(window.location.origin).concat(".","/#/config");window.tableau.extensions.ui.displayDialogAsync(e,"",{height:520,width:295}).catch(function(e){switch(e.errorCode){case window.tableau.ErrorCodes.DialogClosedByUser:console.log("Dialog was closed by user.");break;default:console.error(e.message)}})}},{key:"updateSettings",value:function(e){this.setState({bg:e.bg,button:e.button,configured:"true"===e.configured,filters:JSON.parse(e.filters),label:e.label,style:e.style||"text",image:JSON.parse(e.image||u),text:e.text})}},{key:"componentWillMount",value:function(){var e=this;window.tableau.extensions.initializeAsync({configure:this.configure}).then(function(){window.tableau.extensions.settings.addEventListener(window.tableau.TableauEventType.SettingsChanged,function(t){e.updateSettings(t.newSettings)}),"true"===window.tableau.extensions.settings.getAll().configured?e.updateSettings(window.tableau.extensions.settings.getAll()):(window.tableau.extensions.settings.set("bg",e.state.bg),window.tableau.extensions.settings.set("button",e.state.button),window.tableau.extensions.settings.set("clear",e.state.clear),window.tableau.extensions.settings.set("label",e.state.label),window.tableau.extensions.settings.set("image",JSON.stringify(e.state.image)),window.tableau.extensions.settings.set("style",e.state.style),window.tableau.extensions.settings.set("text",e.state.text),window.tableau.extensions.settings.saveAsync().then(function(){e.configure()}))})}},{key:"render",value:function(){var e="",t="",n=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{b:parseInt(t[3],16),g:parseInt(t[2],16),r:parseInt(t[1],16)}:null}(this.state.button);n&&(e="rgb(".concat(Math.floor(n.r),", ").concat(Math.floor(n.g),", ").concat(Math.floor(n.b),")"),t="rgba(".concat(Math.floor(n.r),", ").concat(Math.floor(n.g),", ").concat(Math.floor(n.b),", .8)"));var s="\n            button.button:active {\n                background-color: ".concat(e," !important;\n            }\n        "),i=a.createElement("button",{className:"button",onClick:this.applyFilters,style:{backgroundColor:t,color:this.state.text}},this.state.label),o=a.createElement("img",{src:""!==this.state.image.data?"data:image/png;base64, ".concat(this.state.image.data):"data:image/png;base64, ".concat(u.data),style:{cursor:"pointer",maxWidth:"100%",objectFit:"contain"},onClick:this.applyFilters,alt:"Filter"});return a.createElement("div",{className:"outer",style:{backgroundColor:this.state.bg}},a.createElement("div",{className:"inner"},a.createElement("style",null,s),"image"===this.state.style?o:i))}}]),t}(a.Component);n(9);s.render(a.createElement(d,null),document.getElementById("container"))},2:function(e,t,n){"use strict";n.r(t)},9:function(e,t,n){}},[[12,5,0]]]);
//# sourceMappingURL=entry_index.9f02e423.83383221.chunk.js.map