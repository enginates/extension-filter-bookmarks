(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{12:function(t,e,n){n(2),t.exports=n(18)},18:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n(3),s=n(4),o=n(5),l=n(7),r=n(6),c=n(8),u={name:"default",ext:".png",data:"iVBORw0KGgoAAAANSUhEUgAAAD4AAAAaCAYAAADv/O9kAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH5AMbFhQgjNJxJQAAAPFJREFUWIXtlC8LwlAUR3/+QWEDwTAwiYgIWzKsrwkW04LNYDLbBe1+BIPtZYtV+4JpYYgMk7Bg2kBBNK1NTd47eO98gXMP791bWIT7l59EkAlLM1CULRoA/CRCkXsILlS4bKhw2VDh/8fGqutgQCf8Cu2LlwyMTReibZNqs+D56tUWhOli3eyw6AHmHdf1HoQ5xLxO787BcavAargQZh9TQmsOwlNqcAh3v0xm+sgD/nWL5Y3Wyhoex0dMLicWN0/4PcTo7LGoU2jDnxE2wQE7Umk2hOEeZgGd7Rc5uuq0qHDZUOGyIW+4pRncM5BjaQbeyHkrIkfBCTEAAAAASUVORK5CYII="},d=window.location.origin.includes("localhost:3000")?window.location.origin:".";var g=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(r.a)(e)).call.apply(t,[this].concat(i)))).state={bg:"#ffffff",button:"#2DCC97",clear:!1,configured:!1,filters:[],image:{name:"",ext:"",data:""},label:"Revert Filters",style:"text",text:"#ffffff"},n.applyFilters=function(){var t=window.tableau.extensions.dashboardContent.dashboard,e=window.tableau.extensions.settings.getAll();if("true"===e.clear)n.clearFilters();else{var a=JSON.parse(e.filters),i=!0,s=!1,o=void 0;try{for(var l,r=function(){var e=l.value;if(!1===e.skip)switch(e.filterType){case"range":var n={};n="all-values"===e.nullOption?{nullOption:e.nullOption}:"date"===e.dataType?{min:new Date(e.min),max:new Date(e.max)}:{min:e.min,max:e.max},t.worksheets.find(function(t){return t.name===e.worksheetName}).applyRangeFilterAsync(e.fieldName,n).catch(console.log);break;case"categorical":t.worksheets.find(function(t){return t.name===e.worksheetName}).applyFilterAsync(e.fieldName,e.appliedValues,e.updateType,{isExcludeMode:e.isExcludeMode}).catch(console.log);break;default:return"continue"}},c=a[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)r()}catch(u){s=!0,o=u}finally{try{i||null==c.return||c.return()}finally{if(s)throw o}}}},n}return Object(c.a)(e,t),Object(o.a)(e,[{key:"clearFilters",value:function(){window.tableau.extensions.dashboardContent.dashboard.worksheets.forEach(function(t){t.getFiltersAsync().then(function(e){var n=[];e.forEach(function(e){n.push(t.clearFilterAsync(e.fieldName))})})})}},{key:"configure",value:function(){var t="".concat(d,"/config.html");window.tableau.extensions.ui.displayDialogAsync(t,"",{height:520,width:295}).catch(function(t){switch(t.errorCode){case window.tableau.ErrorCodes.DialogClosedByUser:console.log("Dialog was closed by user.");break;default:console.error(t.message)}})}},{key:"updateSettings",value:function(t){this.setState({bg:t.bg,button:t.button,configured:"true"===t.configured,filters:JSON.parse(t.filters),label:t.label,style:t.style||"text",image:JSON.parse(t.image||u),text:t.text})}},{key:"componentWillMount",value:function(){var t=this;window.tableau.extensions.initializeAsync({configure:this.configure}).then(function(){window.tableau.extensions.settings.addEventListener(window.tableau.TableauEventType.SettingsChanged,function(e){t.updateSettings(e.newSettings)}),"true"===window.tableau.extensions.settings.getAll().configured?t.updateSettings(window.tableau.extensions.settings.getAll()):(window.tableau.extensions.settings.set("bg",t.state.bg),window.tableau.extensions.settings.set("button",t.state.button),window.tableau.extensions.settings.set("clear",t.state.clear),window.tableau.extensions.settings.set("label",t.state.label),window.tableau.extensions.settings.set("image",JSON.stringify(t.state.image)),window.tableau.extensions.settings.set("style",t.state.style),window.tableau.extensions.settings.set("text",t.state.text),window.tableau.extensions.settings.saveAsync().then(function(){t.configure()}))})}},{key:"render",value:function(){var t="",e="",n=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{b:parseInt(e[3],16),g:parseInt(e[2],16),r:parseInt(e[1],16)}:null}(this.state.button);n&&(t="rgb(".concat(Math.floor(n.r),", ").concat(Math.floor(n.g),", ").concat(Math.floor(n.b),")"),e="rgba(".concat(Math.floor(n.r),", ").concat(Math.floor(n.g),", ").concat(Math.floor(n.b),", .8)"));var i="\n            button.button:active {\n                background-color: ".concat(t," !important;\n            }\n        "),s=a.createElement("button",{className:"button",onClick:this.applyFilters,style:{backgroundColor:e,color:this.state.text}},this.state.label),o=a.createElement("img",{src:""!==this.state.image.data?"data:image/png;base64, ".concat(this.state.image.data):"data:image/png;base64, ".concat(u.data),style:{cursor:"pointer",maxWidth:"100%",objectFit:"contain"},onClick:this.applyFilters,alt:"Filter"});return a.createElement("div",{className:"outer",style:{backgroundColor:this.state.bg}},a.createElement("div",{className:"inner"},a.createElement("style",null,i),"image"===this.state.style?o:s))}}]),e}(a.Component);n(9);i.render(a.createElement(g,null),document.getElementById("container"))},2:function(t,e,n){"use strict";n.r(e)},9:function(t,e,n){}},[[12,5,0]]]);
//# sourceMappingURL=entry_index.9f02e423.eedd0c97.chunk.js.map